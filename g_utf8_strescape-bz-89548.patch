diff -uNr glib-2.34.2.orig/docs/reference/glib/glib-sections.txt glib-2.34.2/docs/reference/glib/glib-sections.txt
--- glib-2.34.2.orig/docs/reference/glib/glib-sections.txt	2013-05-19 14:28:05.900569628 +0400
+++ glib-2.34.2/docs/reference/glib/glib-sections.txt	2013-05-19 14:36:28.990286162 +0400
@@ -2756,6 +2756,7 @@
 g_utf8_find_prev_char
 g_utf8_strlen
 g_utf8_strncpy
+g_utf8_strescape
 g_utf8_strchr
 g_utf8_strrchr
 g_utf8_strreverse
diff -uNr glib-2.34.2.orig/glib/gstrfuncs.c glib-2.34.2/glib/gstrfuncs.c
--- glib-2.34.2.orig/glib/gstrfuncs.c	2013-05-19 14:28:05.935569606 +0400
+++ glib-2.34.2/glib/gstrfuncs.c	2013-05-19 14:33:41.333380821 +0400
@@ -2060,6 +2060,11 @@
  * replaced with a '\' followed by their octal representation.
  * Characters supplied in @exceptions are not escaped.
  *
+ * <note><para>
+ * To copy escapes special characters in UTF-8 encoded string, use
+ * g_utf8_strescape() instead.
+ * </para></note>
+ *
  * g_strcompress() does the reverse conversion.
  *
  * Returns: a newly-allocated copy of @source with certain
diff -uNr glib-2.34.2.orig/glib/gunicode.h glib-2.34.2/glib/gunicode.h
--- glib-2.34.2.orig/glib/gunicode.h	2013-05-19 14:28:05.939569603 +0400
+++ glib-2.34.2/glib/gunicode.h	2013-05-19 14:34:14.057362608 +0400
@@ -637,6 +637,11 @@
                                    const gchar *src,
                                    gsize        n);
 
+GLIB_AVAILABLE_IN_2_34
+gchar *
+g_utf8_strescape      (const gchar *source,
+                       const gchar *exceptions);
+
 /* Find the UTF-8 character corresponding to ch, in string p. These
    functions are equivalants to strchr and strrchr */
 gchar* g_utf8_strchr  (const gchar *p,
diff -uNr glib-2.34.2.orig/glib/gutf8.c glib-2.34.2/glib/gutf8.c
--- glib-2.34.2.orig/glib/gutf8.c	2013-05-19 14:28:05.956569592 +0400
+++ glib-2.34.2/glib/gutf8.c	2013-05-19 14:36:00.307302578 +0400
@@ -445,6 +445,65 @@
   return dest;
 }
 
+/**
+ * g_utf8_strescape:
+ * @source: a string to escape
+ * @exceptions: a string of characters not to escape in source
+ *
+ * Escapes the special characters '\b', '\f', '\n', '\r', '\t', '\' and '"' in
+ * the string source by inserting a '\' before them. Characters supplied in
+ * exceptions are not escaped.
+ * Unlike g_strescape() UTF-8 characters are preseved.
+ *
+ * Return value: a newly-allocated copy of @source with certain characters
+ *   escaped. See above.
+ *
+ * Since: 2.34
+ **/
+gchar *
+g_utf8_strescape (const gchar *source,
+                  const gchar *exceptions)
+{
+  GString *result = g_string_new (NULL);
+
+  while (TRUE)
+    {
+      gchar c = *source++;
+
+      switch (c)
+        {
+        case '\0':
+          goto done;
+        case '\n':
+          g_string_append (result, "\\n");
+          break;
+        case '\"':
+          g_string_append (result, "\\\"");
+          break;
+        case '\\':
+          g_string_append (result, "\\\\");
+          break;
+        case '\b':
+          g_string_append (result, "\\b");
+          break;
+        case '\f':
+          g_string_append (result, "\\f");
+          break;
+        case '\r':
+          g_string_append (result, "\\r");
+          break;
+        case '\t':
+          g_string_append (result, "\\t");
+          break;
+        default:
+          g_string_append_c (result, c);
+        }
+    }
+
+ done:
+  return g_string_free (result, FALSE);
+}
+
 /* unicode_strchr */
 
 /**
